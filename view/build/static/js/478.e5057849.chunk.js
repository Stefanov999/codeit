"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[478],{6478:function(e,t,s){s.r(t),s.d(t,{default:function(){return X}});var n=s(885),r=s(4165),a=s(5861),i=s(1413),l=s(2791),o="LatestNewsForm_LatestNewsForm__0BeJ5",d="LatestNewsForm_addItem__Vv8Op",c="LatestNewsForm_hiddenForm__MTCZd",u="LatestNewsForm_LatestNewsFormFormwrapper__hrclA",m="LatestNewsForm_LatestNewsFormForm__F2bK7",p="LatestNewsForm_textAreaAd__jhFgf",h="LatestNewsForm_notOK__ddJT7",f="LatestNewsForm_notOkNeedVar__tvjNt",F="LatestNewsForm_Ok__ce59y",_="LatestNewsForm_LatestNewsFormFormsubmit__sBPXj",x="LatestNewsForm_LatestNewsFormFormsubmitdisabaled__vc+rB",v="LatestNewsForm_customfileinput__IeA9E",j="LatestNewsForm_customfileinputempty__HD-E1",g=s(5446),N=s(7720),w=s(184),k=function(e){var t=e.token,s=e.change,k=e.url,b=e.title,Z=e.placeholdOne,y=e.placeholdTwo,C=e.placeholdFour,D=e.removeField1,L=e.removeField2,S=e.removeField3,U=e.removeField4,P=(0,l.useState)(""),T=(0,n.Z)(P,2),E=T[0],A=T[1],M=(0,l.useState)(""),B=(0,n.Z)(M,2),O=B[0],I=B[1],z=(0,l.useState)(""),K=(0,n.Z)(z,2),V=K[0],H=K[1],R=(0,l.useState)(""),J=(0,n.Z)(R,2),Q=J[0],W=J[1],G=(0,l.useState)(!0),Y=(0,n.Z)(G,2),X=Y[0],$=Y[1],q=(0,l.useState)(""),ee=(0,n.Z)(q,2),te=ee[0],se=ee[1],ne=(0,l.useState)(!1),re=(0,n.Z)(ne,2),ae=re[0],ie=re[1],le=(0,l.useState)({firstField:"Please Fill Up",secondField:"Please Fill Up",thirdField:"Please Upload Any Image less than 3mb",fourthField:"Please Fill Up"}),oe=(0,n.Z)(le,2),de=oe[0],ce=oe[1],ue=(0,l.useState)(!0),me=(0,n.Z)(ue,2),pe=me[0],he=me[1];(0,l.useEffect)((function(){se(""),D&&ce((function(e){return(0,i.Z)((0,i.Z)({},e),{},{firstField:"ok"})})),L&&ce((function(e){return(0,i.Z)((0,i.Z)({},e),{},{secondField:"ok"})})),S&&ce((function(e){return(0,i.Z)((0,i.Z)({},e),{},{thirdField:"ok"})})),U&&ce((function(e){return(0,i.Z)((0,i.Z)({},e),{},{fourthField:"ok"})}))}),[]),(0,l.useEffect)((function(){"ok"===de.firstField&&"ok"===de.secondField&&"ok"===de.fourthField?$(!1):$(!0)}),[de]);function fe(){return fe=(0,a.Z)((0,r.Z)().mark((function e(n){var a,i,l,o,d,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!ae){e.next=4;break}return alert("Image is too big"),e.abrupt("return");case 4:return a=new FormData,i="ok",l="ok",o="ok",d="ok",!0!==D&&(a.append("author",E),i="Please Fill Up"),!0!==L&&(a.append("title",O),l="Please Fill Up"),!0!==S&&(a.append("img",V),o="Please Upload Any Image less than 3mb"),!0!==U&&(a.append("article",Q),d="Please Fill Up"),c={headers:{authorization:"Bearer "+t}},e.next=16,g.ZP.post(k,a,c).then((function(e){"success"===e.data.status?s():alert("There is some problem"),se(e.data.status)}));case 16:$((function(e){return!e})),A(""),I(""),H(""),W(""),he(!0),ce({firstField:i,secondField:l,thirdField:o,fourthField:d});case 23:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}return(0,w.jsxs)("div",{className:o,children:[(0,w.jsx)("button",{onClick:function(){he((function(e){return!e}))},className:d,children:pe?"Add New Item":"Close"}),(0,w.jsx)("div",{className:pe?c:u,children:(0,w.jsx)("form",{onSubmit:function(e){return fe.apply(this,arguments)},children:(0,w.jsxs)("div",{className:m,children:[(0,w.jsx)("h4",{children:b}),!0!==D?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("input",{type:"text",placeholder:Z,name:"firstField",value:E,onChange:function(e){return A(e.target.value)},onKeyUp:function(e){return(0,N.b0)(e,3,70,ce)}}),(0,w.jsx)("i",{className:"ok"===de.firstField?F:f,children:de.firstField})]}):"",!0!==L?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("input",{type:"text",placeholder:y,name:"secondField",value:O,onChange:function(e){return I(e.target.value)},onKeyUp:function(e){return(0,N.b0)(e,3,70,ce)}}),(0,w.jsx)("i",{className:"Please Fill Up"===de.secondField?f:de.secondField.includes("Must")?h:F,children:de.secondField})]}):"",!0!==S?(0,w.jsxs)(w.Fragment,{children:[" ",(0,w.jsx)("input",{type:"file",name:"thirdField",className:V?v:j,onChange:function(e){H(e.target.files[0]),function(e){e.target.files[0]&&(e.target.files[0].size>3e6?(alert("Image is too big"),ie(!0)):ie(!1))}(e)}}),(0,w.jsx)("i",{className:"Please Upload Any Image less than 3mb"===de.thirdField?f:de.thirdField.includes("Must")?h:F,children:de.thirdField})]}):"",!0!==U?(0,w.jsxs)(w.Fragment,{children:[" ",(0,w.jsx)("textarea",{className:p,placeholder:C,value:Q,name:"fourthField",onChange:function(e){return W(e.target.value)},onKeyUp:function(e){return(0,N.b0)(e,10,1e4,ce)}}),(0,w.jsx)("i",{className:"Please Fill Up"===de.fourthField?f:de.fourthField.includes("Must")?h:F,children:de.fourthField})]}):"",(0,w.jsx)("input",{className:X?x:_,disabled:X,type:"submit",value:"Send",name:"title"})]})})}),(0,w.jsx)("p",{className:"fromMsg",children:te})]})},b=(0,l.memo)(k),Z={wrapperTr:"latestNewsDisplay_wrapperTr__viAfy",titlesinformTr:"latestNewsDisplay_titlesinformTr__MzJK3",titlesinformTrDiv:"latestNewsDisplay_titlesinformTrDiv__Dgh0v",titlesinformTrfontawesome:"latestNewsDisplay_titlesinformTrfontawesome__rNp1V",loader:"latestNewsDisplay_loader__AHrz6",load8:"latestNewsDisplay_load8__79W0o",errLoading:"latestNewsDisplay_errLoading__tnESE",searchdisplay:"latestNewsDisplay_searchdisplay__QTHxD",dragDrop:"latestNewsDisplay_dragDrop__wbuvD",dragDropUpdate:"latestNewsDisplay_dragDropUpdate__aPiQW",dragDropUpdated:"latestNewsDisplay_dragDropUpdated__QBIZZ",dragDropUpdatePermission:"latestNewsDisplay_dragDropUpdatePermission__pdLQg"},y=s(4483),C=s(3174),D="editComponent_charactersupdatemodalwrapper2__vHaeA",L="editComponent_charactersupdatemodal__RRIdv",S="editComponent_modalButtons__g6suj",U="editComponent_submitModal__fbmDP",P="editComponent_closeModal__e2uU6",T="editComponent_notOK__xE1s6",E="editComponent_notOkNeedVar__W+lcJ",A="editComponent_Ok__7xjz7",M="editComponent_charactersupdatemodalwrapperclose__kjbZx",B=function(e){var t=e.targetURL,s=e.openModal,i=e.geta,o=e.targetinf,d=e.url,c=e.token,u=e.removeField1,m=e.removeField2,p=e.removeField3,h=e.removeField4,f=(0,l.useState)(""),F=(0,n.Z)(f,2),_=F[0],x=F[1],k=(0,l.useState)(""),b=(0,n.Z)(k,2),Z=b[0],y=b[1],C=(0,l.useState)(""),B=(0,n.Z)(C,2),O=B[0],I=B[1],z=(0,l.useState)(""),K=(0,n.Z)(z,2),V=K[0],H=K[1],R=(0,l.useState)(!1),J=(0,n.Z)(R,2),Q=J[0],W=J[1],G=(0,l.useState)({firstField:"ok",secondField:"ok",thirdField:"ok",fourthField:"ok"}),Y=(0,n.Z)(G,2),X=Y[0],$=Y[1];function q(){return q=(0,a.Z)((0,r.Z)().mark((function e(s){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),n=new FormData,!0!==u&&n.append("author",O),!0!==m&&n.append("title",_),!0!==p&&n.append("img",Z),!0!==h&&n.append("article",V),a={headers:{authorization:"Bearer "+c}},e.next=9,g.ZP.patch("".concat(d,"/").concat(t),n,a).then((function(e){"success"===e.data.status?i():alert("There is some problem")}));case 9:setTimeout((function(){x(""),y(""),I(""),H("")}),500);case 10:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}return(0,l.useEffect)((function(){H(o.article),I(o.author),x(o.title)}),[o]),(0,l.useEffect)((function(){"ok"===X.firstField&&"ok"===X.secondField&&"ok"===X.thirdField&&"ok"===X.fourthField?W(!1):W(!0)}),[X]),(0,w.jsxs)("div",{className:s?D:M,children:[(0,w.jsx)("p",{children:"Update Character"}),(0,w.jsx)("form",{onSubmit:function(e){return q.apply(this,arguments)},children:(0,w.jsxs)("div",{className:L,children:[!0!==u?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("input",{type:"text",name:"firstField",value:O||"",onChange:function(e){return I(e.target.value)},onBlur:function(e){return(0,N.b0)(e,3,70,$)}})," ",(0,w.jsx)("i",{className:"Please Fill Up"===X.firstField?E:X.firstField.includes("Must")?T:A,children:X.firstField})]}):"",!0!==m?(0,w.jsxs)(w.Fragment,{children:[" ",(0,w.jsx)("input",{type:"text",name:"secondField",value:_||"",onChange:function(e){return x(e.target.value)},onBlur:function(e){return(0,N.b0)(e,3,70,$)}}),(0,w.jsx)("i",{className:"Please Fill Up"===X.secondField?E:X.secondField.includes("Must")?T:A,children:X.secondField})]}):"",!0!==p?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("input",{type:"file",name:"Pic",className:Z?v:j,onChange:function(e){return y(e.target.files[0])}}),(0,w.jsx)("i",{className:E,children:"Optional (Less than 2 mb)"})]}):"",!0!==h?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("textarea",{name:"fourthField",value:V||"",onChange:function(e){return H(e.target.value)},onBlur:function(e){return(0,N.b0)(e,3,1e4,$)}}),(0,w.jsx)("i",{className:"Please Fill Up"===X.fourthField?E:X.fourthField.includes("Must")?T:A,children:X.fourthField})]}):"",(0,w.jsxs)("div",{className:S,children:[" ",(0,w.jsx)("input",{className:U,type:"submit",value:"SAVE",disabled:Q})," ",(0,w.jsx)("button",{className:P,name:"data",type:"button",onClick:function(){return i()},children:"CLOSE"})]})]})})]})},O=(0,l.memo)(B),I=s(9478),z=s(7087),K=(s(9713),s(7205)),V=s(788),H=s(7248),R=s(464),J=function(e){var t=e.openPrompt,s=e.el,n=e.handleClosePrompt,r=e.deletetitle;return(0,w.jsx)("div",{children:(0,w.jsxs)(V.Z,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,w.jsx)(R.Z,{id:"alert-dialog-title",children:'"Are you sure you want to delete this item ?"'}),(0,w.jsxs)(H.Z,{children:[(0,w.jsx)(K.Z,{onClick:n,children:"Disagree"}),(0,w.jsx)(K.Z,{onClick:function(){return r(s)},autoFocus:!0,children:"Agree"})]})]})})},Q=function(e){var t=e.token,s=e.url,i=e.comunication,o=e.removeField1,d=e.removeField2,c=e.removeField3,u=e.removeField4,m=(0,l.useState)([]),p=(0,n.Z)(m,2),h=p[0],f=p[1],F=(0,l.useState)([]),_=(0,n.Z)(F,2),x=_[0],v=_[1],j=(0,l.useState)(!0),g=(0,n.Z)(j,2),k=g[0],b=g[1],D=(0,l.useState)(!1),L=(0,n.Z)(D,2),S=L[0],U=L[1],P=function(){U(!1)},T=(0,l.useCallback)((function(){(0,N.Yu)(s).then((function(e){return f(e)})),v("")}),[]);function E(e){return A.apply(this,arguments)}function A(){return(A=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.b6)(n.id,s,t,{img:n.img});case 2:P(),T();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,l.useEffect)((function(){T()}),[i]),(0,l.useEffect)((function(){b(!0),(0,N.Yu)(s).then((function(e){return f(e)})),b(!1)}),[]);var M=(0,l.useState)("wrong"),B=(0,n.Z)(M,2),K=B[0],V=B[1],H=(0,l.useState)(!1),R=(0,n.Z)(H,2),Q=R[0],W=R[1],G=(0,l.useState)(""),Y=(0,n.Z)(G,2),X=Y[0],$=Y[1],q=(0,l.useCallback)((function(e){$(e)}),[]),ee=(0,l.useCallback)((function(e){V(e)}),[]),te=(0,l.useCallback)((function(){W((function(e){return!e})),T()}),[]),se=(0,l.useCallback)((function(e,t){ee(e),q(t),te()}),[]);(0,l.useEffect)((function(){0===x.length&&T(),f(h.filter((function(e){return e.title.toLowerCase().includes(x.toLocaleLowerCase())})))}),[x]);try{return(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:Z.searchdisplay,children:[(0,w.jsx)("h2",{children:"Search"}),(0,w.jsxs)("div",{children:[(0,w.jsx)("input",{type:"text",value:x,onChange:function(e){return v(e.target.value)}}),(0,w.jsx)("button",{type:"button",onClick:T,children:"Reset"})]})]}),k?(0,w.jsx)("span",{children:"Loading Database..."}):(0,w.jsx)("div",{className:Z.dragDrop,children:null===h||void 0===h?void 0:h.map((function(e,t){return(0,w.jsx)("div",{className:Z.titelsDisplay,children:(0,w.jsxs)("div",{className:Z.titlesinform,children:[(0,w.jsx)("table",{children:(0,w.jsx)("tbody",{children:(0,w.jsxs)("tr",{className:Z.titlesinformTr,children:[(0,w.jsx)("td",{children:(0,w.jsx)(z.LazyLoadImage,{effect:"blur",src:"".concat(I.Z,"/").concat(e.img)})}),(0,w.jsxs)("td",{children:[(0,w.jsxs)("div",{className:Z.titlesinformTrDiv,children:[(0,w.jsx)("p",{children:e.title}),e.author&&e.author.length<25?(0,w.jsx)("p",{children:e.author}):(0,w.jsx)("p",{}),(0,w.jsxs)("p",{children:[" Create : ",e.time]})]})," "]}),(0,w.jsx)("td",{className:Z.titlesinformTrfontawesome,children:(0,w.jsx)(y.G,{onClick:function(){return se(e.id,e)},className:Z.fontawesomeLND,icon:C._3l})}),(0,w.jsx)("td",{className:Z.titlesinformTrfontawesome,children:(0,w.jsx)(y.G,{onClick:function(){return U(!0)},className:Z.fontawesomeLND,icon:C.$aW})})]})})}),(0,w.jsx)(J,{openPrompt:S,handleClosePrompt:P,deletetitle:E,el:e})]})},e.id)}))}),(0,w.jsx)(O,{targetURL:K,targetinf:X,openModal:Q,geta:te,url:s,token:t,removeField1:o,removeField2:d,removeField3:c,removeField4:u})]})}catch(ne){return(0,w.jsx)("p",{className:Z.errLoading,children:"Error Loading DB"})}},W=(0,l.memo)(Q),G="LatestNews_LatestNews__dd5HB",Y=s(6989),X=function(e){var t=e.url,s=e.title,r=e.placeholdOne,a=e.placeholdTwo,i=e.placeholdFour,o=e.removeField1,d=e.removeField2,c=e.removeField3,u=e.removeField4,m=(0,l.useState)(!0),p=(0,n.Z)(m,2),h=p[0],f=p[1],F=(0,l.useContext)(Y.V).token,_=(0,l.useCallback)((function(){f((function(e){return!e}))}),[]);return(0,w.jsxs)("div",{className:G,children:[(0,w.jsx)(b,{token:F,change:_,url:t,title:s,placeholdTwo:a,placeholdOne:r,placeholdFour:i,removeField1:o,removeField2:d,removeField3:c,removeField4:u}),(0,w.jsx)(W,{token:F,url:t,comunication:h,removeField1:o,removeField2:d,removeField3:c,removeField4:u})]})}}}]);
//# sourceMappingURL=478.e5057849.chunk.js.map