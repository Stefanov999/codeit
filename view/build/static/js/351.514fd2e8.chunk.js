"use strict";(self.webpackChunkcodeit=self.webpackChunkcodeit||[]).push([[351],{8351:function(e,n,r){r.r(n),r.d(n,{default:function(){return z}});var t=r(4165),s=r(885),i=r(5861),o=r(2791),a="usersAdmin_EditUsersWrapper__UD2z4",l="usersAdmin_tableUsers__1sJA4",c=r(6989),d=r(1413),u=r(5987),p=r(7205),h=r(6863),x=r(5269),m=r(464),f=r(8440),v=r(7248),j=r(3811),Z=r(1699),b="usersEditModal_role__1M1rK",C="usersEditModal_delete__-M4BK",g=r(7720),k=r(184),w=["children","onClose"],y=(0,h.ZP)(x.Z)((function(e){var n=e.theme;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}));function _(e){var n=e.children,r=e.onClose,t=(0,u.Z)(e,w);return(0,k.jsxs)(m.Z,(0,d.Z)((0,d.Z)({sx:{m:0,p:2}},t),{},{children:[n,r?(0,k.jsx)(j.Z,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,k.jsx)(Z.Z,{})}):null]}))}var S=function(e){var n=e.open,r=e.handleClose,a=e.role,l=e.reload,d=(0,o.useContext)(c.V).token,u=(0,o.useState)(a.role),h=(0,s.Z)(u,2),x=h[0],m=h[1],j=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.k4)({role:x},a.id,"/api/v1/user",d);case 2:r(),l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsx)("div",{children:(0,k.jsxs)(y,{onClose:r,"aria-labelledby":"customized-dialog-title",open:n,children:[(0,k.jsx)(_,{id:"customized-dialog-title",onClose:r,children:"Edit User"}),(0,k.jsx)(f.Z,{dividers:!0,children:(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:b,children:[(0,k.jsx)("span",{children:"Role:"}),(0,k.jsxs)("select",{value:x,onChange:function(e){return m(e.target.value)},children:[(0,k.jsx)("option",{selected:"user"===a.role,value:"user",children:"user"}),(0,k.jsx)("option",{selected:"admin"===a.role,value:"admin",children:"admin"}),(0,k.jsx)("option",{selected:"SuperAdmin"===a.role,value:"SuperAdmin",children:"SuperAdmin"})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("button",{onClick:function(){window.confirm("Do you really want to delete this user?")&&((0,g.b6)(a.id,"/api/v1/user",d),r(),l())},className:C,children:"Delete"}),"(User will be deleted)"]})]})}),(0,k.jsx)(v.Z,{children:(0,k.jsx)(p.Z,{autoFocus:!0,onClick:j,children:"Save changes"})})]})})},A=r(6015),E=r(4565),N=r(3180),U={img:"popUp_img__FcG+r"},M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},D=function(e){var n=e.open,t=e.handleClose;return(0,k.jsx)("div",{className:U.PopUp,children:(0,k.jsx)(N.Z,{open:n,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,k.jsxs)(A.Z,{sx:M,children:[(0,k.jsx)(E.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Only SuperAdmin Can Edit This !"}),(0,k.jsx)("img",{className:U.img,src:r(2619),alt:"monkey"})]})})})},z=function(){function e(e,r){return n.apply(this,arguments)}function n(){return n=(0,i.Z)((0,t.Z)().mark((function e(n,r){var s,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"GET",headers:{authorization:"Bearer "+r}},e.prev=1,e.next=4,fetch(n,s);case 4:return i=e.sent,e.next=7,i.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(1),console.log("Errror with dataBases");case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),n.apply(this,arguments)}var r=(0,o.useState)([]),d=(0,s.Z)(r,2),u=d[0],p=d[1],h=(0,o.useState)(!1),x=(0,s.Z)(h,2),m=x[0],f=x[1],v=(0,o.useContext)(c.V).token,j=(0,o.useContext)(c.V).isAdmin,Z=(0,o.useState)(""),b=(0,s.Z)(Z,2),C=b[0],g=b[1],w=function(){f(!1)},y=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(n),f(!0);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function _(){return A.apply(this,arguments)}function A(){return(A=(0,i.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e("/api/v1/user",v).then((function(e){return p(e)}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,o.useEffect)((function(){_()}),[]),(0,k.jsxs)("div",{className:a,children:[(0,k.jsx)("h1",{children:"Edit Users "}),u&&(null===u||void 0===u?void 0:u.map((function(e){return(0,k.jsx)("div",{className:l,onClick:function(){y(e)},children:(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{children:["E-mail : ",e.email]}),(0,k.jsxs)("p",{children:["Staus : ",e.role]}),(0,k.jsxs)("p",{children:["Nick Name: ",e.nick]})]})},e.id)}))),"SuperAdmin"===j?(0,k.jsx)(S,{open:m,handleClose:w,role:C,reload:_}):(0,k.jsx)(D,{open:m,handleClose:w})]})}},2619:function(e,n,r){e.exports=r.p+"static/media/mokey.e39a7aa751bb58512abe.webp"}}]);
//# sourceMappingURL=351.514fd2e8.chunk.js.map